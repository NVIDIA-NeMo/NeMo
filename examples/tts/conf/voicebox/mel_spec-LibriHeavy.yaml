cfg:
  ds_name: libriheavy
  librilight_dir: data/download/LibriLight
  libriheavy_dir: data/download/LibriHeavy
  corpus_dir: data/download/LibriLight
  manifests_dir: data/parsed/LibriHeavy
  textgrid_dir: data/aligned/LibriHeavy/textgrids
  old_prefix: download/librilight
  subsets:
  - small
  - medium
  - large
  - dev
  - test_clean
  - test_other
  - test_clean_large
  - test_other_large
  sample_rate: 16000
  train_ds:
    subset: medium
    defer_setup: true
    manifest_filepath: data/parsed/LibriHeavy/libriheavy_cuts_medium.jsonl.gz
    sample_rate: 16000
    batch_size: 16
    shuffle: true
    num_workers: 8
    pin_memory: true
    is_tarred: false
    tarred_audio_filepaths: null
    shuffle_n: 2048
    bucketing_strategy: synced_randomized
    bucketing_batch_size: null
    use_lhotse: true
    cuts_path: data/parsed/LibriHeavy/libriheavy_cuts_medium.jsonl.gz
    use_bucketing: true
    batch_duration: 64
    ds_kwargs:
      textgrid_dir: data/aligned/LibriHeavy/textgrids
      use_word_postfix: true
      use_word_ghost_silence: true
      sampling_rate: 24000
      num_workers: 8
    max_duration: 16
    min_duration: 0.1
  validation_ds:
    subset: dev
    defer_setup: true
    manifest_filepath: data/parsed/LibriHeavy/libriheavy_cuts_dev.jsonl.gz
    sample_rate: 16000
    batch_size: 16
    shuffle: false
    num_workers: 8
    pin_memory: false
    is_tarred: false
    tarred_audio_filepaths: null
    bucketing_strategy: synced_randomized
    bucketing_batch_size: null
    use_lhotse: true
    cuts_path: data/parsed/LibriHeavy/libriheavy_cuts_dev.jsonl.gz
    use_bucketing: false
    batch_duration: 100.0
    ds_kwargs:
      textgrid_dir: data/aligned/LibriHeavy/textgrids
      use_word_postfix: true
      use_word_ghost_silence: true
      sampling_rate: 24000
      num_workers: 8
  test_ds:
    subset: test_clean
    defer_setup: true
    manifest_filepath: data/parsed/LibriHeavy/libriheavy_cuts_test_clean.jsonl.gz
    sample_rate: 16000
    batch_size: 16
    shuffle: false
    num_workers: 8
    pin_memory: false
    is_tarred: false
    tarred_audio_filepaths: null
    use_lhotse: true
    cuts_path: data/parsed/LibriHeavy/libriheavy_cuts_test_clean.jsonl.gz
    use_bucketing: false
    batch_duration: 100.0
    ds_kwargs:
      textgrid_dir: data/aligned/LibriHeavy/textgrids
      use_word_postfix: true
      use_word_ghost_silence: true
      sampling_rate: 24000
      num_workers: 8
  mfa_tokenizer:
    _target_: nemo.collections.tts.modules.voicebox_modules.MFAEnglishPhonemeTokenizer
    textgrid_dir: data/aligned/LibriHeavy/textgrids
    use_word_postfix: true
  duration_predictor:
    _target_: nemo.collections.tts.modules.voicebox_modules.MFADurationPredictor
    dim_phoneme_emb: 512
    dim: 512
    depth: 2
    dim_head: 64
    heads: 1
    ff_mult: 4
    attn_qk_norm: true
    ff_dropout: 0.0
    attn_dropout: 0
    attn_flash: false
    conv_pos_embed_kernel_size: 31
    conv_pos_embed_groups: null
    p_drop_prob: 0.2
    frac_lengths_mask:
    - 0.1
    - 1.0
    aligner_kwargs: null
    audio_enc_dec:
      _target_: nemo.collections.tts.modules.voicebox_modules.MelVoco
      log: true
      n_mels: 100
      sampling_rate: 24000
      f_max: null
      n_fft: 1024
      win_length: 1024
      hop_length: 256
      pretrained_vocos_path: charactr/vocos-mel-24khz
      normalize: true
  voicebox:
    _target_: nemo.collections.tts.modules.voicebox_modules.VoiceBox
    audio_enc_dec:
      _target_: nemo.collections.tts.modules.voicebox_modules.MelVoco
      log: true
      n_mels: 100
      sampling_rate: 24000
      f_max: null
      n_fft: 1024
      win_length: 1024
      hop_length: 256
      pretrained_vocos_path: charactr/vocos-mel-24khz
      normalize: true
    dim_cond_emb: 1024
    dim: 1024
    dim_in: null
    time_hidden_dim: null
    conv_pos_embed_kernel_size: 31
    conv_pos_embed_groups: null
    depth: 4
    dim_head: 64
    heads: 16
    ff_mult: 4
    ff_dropout: 0.0
    attn_dropout: 0
    attn_flash: false
    attn_qk_norm: true
    num_register_tokens: 16
    num_cond_tokens: null
    condition_on_text: true
    p_drop_prob: 0.3
    frac_lengths_mask:
    - 0.1
    - 0.9
    loss_masked: true
    use_unet_skip_connection: true
    pytorch_mha: true
  cfm_wrapper:
    _target_: nemo.collections.tts.modules.voicebox_modules.ConditionalFlowMatcherWrapper
    voicebox: null
    duration_predictor: null
    sigma: 1.0e-05
    ode_atol: 1.0e-05
    ode_rtol: 1.0e-05
    use_torchode: false
    torchdiffeq_ode_method: midpoint
    torchode_method_klass: torchode.Tsit5
    cond_drop_prob: 0.2
  _target_: nemo.collections.tts.models.voicebox.VoiceboxModel
  optim:
    name: adam
    lr: 5.0e-05
    betas:
    - 0.9
    - 0.999
    weight_decay: 0
    sched:
      name: CosineAnnealing
      warmup_steps: 5000
      warmup_ratio: null
      min_lr: 1.0e-05
  ds_kwargs:
    textgrid_dir: data/aligned/LibriHeavy/textgrids
    use_word_postfix: true
    use_word_ghost_silence: true
    sampling_rate: 24000
    num_workers: 8
  freeze_updates:
    enabled: true
    modules:
      duration_predictor: -1
  cap_vocode: true
  additional_log_batches: 1
  target: nemo.collections.tts.models.voicebox.VoiceboxModel
  nemo_version: 1.21.0rc0
